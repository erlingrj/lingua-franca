target Chisel {
    timeout: 1 msec
}

import UpCounter, UpCounterSink from "lib/UpCounter.lf"


reactor Wrapper {
    input in: {=UInt(32.W)=}

    s = new UpCounterSink()
    in -> s.in

    reaction(in) {=
        printf("Wrapper also got %d\n", lf_get(in))
    =}
}

main reactor {
    up = new UpCounter()
    w = new Wrapper()

    up.out -> w.in
}
