target Chisel {
    timeout: 1 usec
}


reactor WithPreamble {
    preamble {=
        val test = 42.U
    =}

    reaction(startup) {=
        printf("Test = %d\n", test)
        assert(test === 42.U)
    =}
}

main reactor {
    w = new WithPreamble()
}